{"identifier":{"url":"doc:\/\/KeyboardKit\/documentation\/KeyboardKit\/Getting-Started","interfaceLanguage":"swift"},"sections":[],"metadata":{"modules":[{"name":"KeyboardKit"}],"title":"Getting Started","roleHeading":"Article","role":"article"},"abstract":[{"type":"text","text":"This article describes how to get started with KeyboardKit."}],"seeAlsoSections":[{"generated":true,"title":"Getting Started","identifiers":["doc:\/\/KeyboardKit\/documentation\/KeyboardKit\/Essentials"]}],"hierarchy":{"paths":[["doc:\/\/KeyboardKit\/documentation\/KeyboardKit"]]},"kind":"article","schemaVersion":{"major":0,"minor":3,"patch":0},"variants":[{"traits":[{"interfaceLanguage":"swift"}],"paths":["\/documentation\/keyboardkit\/getting-started"]}],"primaryContentSections":[{"content":[{"type":"heading","text":"Overview","anchor":"overview","level":2},{"type":"paragraph","inlineContent":[{"type":"text","text":"This article describes how to get started with both KeyboardKit and KeyboardKit Pro, which extends KeyboardKit with Pro features."}]},{"type":"paragraph","inlineContent":[{"text":"Since KeyboardKit Pro requires a license key, it has a slightly different setup than KeyboardKit. Every section will first show you how to do it for KeyboardKit, then for KeyboardKit Pro.","type":"text"}]},{"type":"heading","text":"How to install KeyboardKit","level":2,"anchor":"How-to-install-KeyboardKit"},{"inlineContent":[{"type":"text","text":"See the start page for information on how to install KeyboardKit and KeyboardKit Pro."}],"type":"paragraph"},{"type":"paragraph","inlineContent":[{"type":"text","text":"Make sure to "},{"inlineContent":[{"type":"text","text":"import KeyboardKit"}],"type":"strong"},{"text":" (or ","type":"text"},{"type":"strong","inlineContent":[{"text":"import KeyboardKitPro","type":"text"}]},{"type":"text","text":" for KeyboardKit Pro) in any file where you want to use the library."}]},{"type":"heading","text":"How to use KeyboardKit","level":2,"anchor":"How-to-use-KeyboardKit"},{"type":"paragraph","inlineContent":[{"text":"Keyboard extensions can use KeyboardKit to create custom keyboards, while the main app target can use it to check keyboard state, provide shared settings, link to System Settings, etc.","type":"text"}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"KeyboardKit requires slightly different setup depending on the target type and use-case."}]},{"anchor":"How-to-set-up-KeyboardKit-for-a-keyboard-extension","text":"How to set up KeyboardKit for a keyboard extension","type":"heading","level":2},{"type":"paragraph","inlineContent":[{"type":"text","text":"To set up KeyboardKit for a keyboard extension, first let your "},{"type":"codeVoice","code":"KeyboardViewController"},{"text":" inherit ","type":"text"},{"type":"reference","identifier":"doc:\/\/KeyboardKit\/documentation\/KeyboardKit\/KeyboardInputViewController","isActive":true},{"type":"text","text":" instead of "},{"type":"codeVoice","code":"UIInputViewController"},{"type":"text","text":":"}]},{"type":"codeListing","syntax":"swift","code":["class KeyboardController: KeyboardInputViewController {}"]},{"type":"paragraph","inlineContent":[{"text":"This extends your controller with new lifecycle functions like ","type":"text"},{"type":"reference","identifier":"doc:\/\/KeyboardKit\/documentation\/KeyboardKit\/KeyboardInputViewController\/viewWillSetupKeyboard()","isActive":true},{"text":", observable ","type":"text"},{"type":"reference","identifier":"doc:\/\/KeyboardKit\/documentation\/KeyboardKit\/KeyboardInputViewController\/state","isActive":true},{"type":"text","text":", keyboard-specific "},{"type":"reference","identifier":"doc:\/\/KeyboardKit\/documentation\/KeyboardKit\/KeyboardInputViewController\/services","isActive":true},{"type":"text","text":", and much more."}]},{"inlineContent":[{"text":"KeyboardKit will use a ","type":"text"},{"isActive":true,"type":"reference","identifier":"doc:\/\/KeyboardKit\/documentation\/KeyboardKit\/SystemKeyboard"},{"text":" as the default keyboard view. To customize or replace it, override ","type":"text"},{"identifier":"doc:\/\/KeyboardKit\/documentation\/KeyboardKit\/KeyboardInputViewController\/viewWillSetupKeyboard()","type":"reference","isActive":true},{"text":" and call any of the ","type":"text"},{"code":"setup","type":"codeVoice"},{"text":" functions.","type":"text"}],"type":"paragraph"},{"level":3,"text":"KeyboardKit","anchor":"KeyboardKit","type":"heading"},{"type":"paragraph","inlineContent":[{"type":"text","text":"With KeyboardKit, you can customize or replace the default keyboard view by calling "},{"type":"strong","inlineContent":[{"text":"setup(with:)","type":"text"}]},{"type":"text","text":" and provide a modified system keyboard, or a completely custom view:"}]},{"syntax":"swift","code":["class KeyboardViewController: KeyboardInputViewController {","","    func viewWillSetupKeyboard() {","        super.viewWillSetupKeyboard()","        setup { controller in","            SystemKeyboard(","                state: controller.state,","                services: controller.services,","                buttonContent: { $0.view },","                buttonView: { $0.view },","                emojiKeyboard: { $0.view },","                toolbar: { _ in MyCustomToolbar() }","            )","        }","    }","}"],"type":"codeListing"},{"type":"paragraph","inlineContent":[{"text":"You can use the view builder controller parameter to access controller ","type":"text"},{"type":"reference","isActive":true,"identifier":"doc:\/\/KeyboardKit\/documentation\/KeyboardKit\/KeyboardInputViewController\/state"},{"text":", ","type":"text"},{"isActive":true,"type":"reference","identifier":"doc:\/\/KeyboardKit\/documentation\/KeyboardKit\/KeyboardInputViewController\/services"},{"text":", and any other controller properties and functions.","type":"text"}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"You can find more information on how to customize the "},{"identifier":"doc:\/\/KeyboardKit\/documentation\/KeyboardKit\/SystemKeyboard","isActive":true,"type":"reference"},{"type":"text","text":" in "},{"type":"reference","isActive":true,"identifier":"doc:\/\/KeyboardKit\/documentation\/KeyboardKit\/Essentials"},{"type":"text","text":"."}]},{"type":"aside","content":[{"type":"paragraph","inlineContent":[{"text":"The view builder provides you with an unowned controller, to help avoiding memory leaks. If you pass it to other views, make sure to keep it unowned.","type":"text"}]}],"name":"Important","style":"important"},{"anchor":"KeyboardKit-Pro","type":"heading","text":"KeyboardKit Pro","level":3},{"inlineContent":[{"text":"Unlike KeyboardKit, KeyboardKit Pro has a ","type":"text"},{"inlineContent":[{"type":"text","text":"setupPro"}],"type":"strong"},{"type":"text","text":" function, that lets you register your license key, after which KeyboardKit Pro automatically set up all locales and features in your license."}],"type":"paragraph"},{"type":"paragraph","inlineContent":[{"type":"text","text":"To use KeyboardKit Pro with the default view, just call "},{"inlineContent":[{"text":"setupPro","type":"text"}],"type":"strong"},{"text":" without a view in ","type":"text"},{"inlineContent":[{"type":"text","text":"viewDidLoad"}],"type":"strong"},{"type":"text","text":":"}]},{"syntax":"swift","type":"codeListing","code":["func viewDidLoad() {","    super.viewDidLoad()","    setupPro(","        withLicenseKey: \"your-key\",","        locales: [...], \/\/ Define which locales to use","        licenseConfiguration: { license in ... }  \/\/ Customize the license","    )","}"]},{"inlineContent":[{"type":"text","text":"To use KeyboardKit Pro with a custom view, just call "},{"inlineContent":[{"type":"text","text":"setupPro"}],"type":"strong"},{"text":" and provide it with any custom view in ","type":"text"},{"identifier":"doc:\/\/KeyboardKit\/documentation\/KeyboardKit\/KeyboardInputViewController\/viewWillSetupKeyboard()","isActive":true,"type":"reference"},{"text":":","type":"text"}],"type":"paragraph"},{"syntax":"swift","code":["class KeyboardViewController: KeyboardInputViewController {","","    override func viewWillSetupKeyboard() {","        super.viewWillSetupKeyboard()","        setupPro(","            withLicenseKey: \"your-key\",","            locales: [...], \/\/ Define which locales to use","            licenseConfiguration: { license in ... }  \/\/ Customize the license,","            view: { controller in","                SystemKeyboard(","                    state: controller.state,","                    services: controller.services,","                    buttonContent: { $0.view },","                    buttonView: { $0.view },","                    emojiKeyboard: { $0.view },","                    toolbar: { _ in MyCustomToolbar() }","                )","            }","        )","    }","}"],"type":"codeListing"},{"inlineContent":[{"type":"text","text":"You can use any Pro features from your license once "},{"code":"licenseConfiguration","type":"codeVoice"},{"text":" is called. You don’t have to provide locales if you have a Gold license, since Gold licenses include all locales.","type":"text"}],"type":"paragraph"},{"text":"How to set up KeyboardKit for an app","level":2,"type":"heading","anchor":"How-to-set-up-KeyboardKit-for-an-app"},{"inlineContent":[{"text":"You can use KeyboardKit in your main app target, to check keyboard and Full Access state, provide shared settings, link to System Settings, etc.","type":"text"}],"type":"paragraph"},{"text":"KeyboardKit","anchor":"KeyboardKit","type":"heading","level":3},{"type":"paragraph","inlineContent":[{"type":"text","text":"You don’t have to set up KeyboardKit in any way in the main app target. Just import KeyboardKit in any file where you want to use it, and you’re good to go."}]},{"text":"KeyboardKit Pro","level":3,"anchor":"KeyboardKit-Pro","type":"heading"},{"type":"paragraph","inlineContent":[{"type":"text","text":"To set up KeyboardKit Pro for your main app target (or any target where you don’t have an input controller) just call "},{"inlineContent":[{"type":"text","text":"License.register(licenseKey:locales:)"}],"type":"strong"},{"type":"text","text":" to register your license key:"}]},{"syntax":"swift","code":["@main","struct MyApp: App {","","    init() {","        Task {","            do {","                let license = try await License.register(...)","                \/\/ KeyboardKit Pro is now activated.","            } catch {","                \/\/ Handle the error in any way you want.","            }","        }","    }","","    var body: some Scene {","        WindowGroup {","            ContentView()","        }","    }","}"],"type":"codeListing"},{"type":"paragraph","inlineContent":[{"type":"text","text":"You’ll be able to use your license once "},{"inlineContent":[{"type":"text","text":"License.register"}],"type":"strong"},{"text":" completes. If you need to use any Pro features on the root screen, just use some observed state to force a view update.","type":"text"}]},{"anchor":"How-to-set-up-KeyboardKit-as-a-package-dependency","type":"heading","text":"How to set up KeyboardKit as a package dependency","level":2},{"inlineContent":[{"text":"To set up KeyboardKit as a package dependency, just add it to the package dependencies and link it to any target that needs it.","type":"text"}],"type":"paragraph"},{"anchor":"KeyboardKit-Pro","level":3,"text":"KeyboardKit Pro","type":"heading"},{"type":"paragraph","inlineContent":[{"type":"text","text":"Since KeyboardKit Pro is a binary target, it requires some special handling to be used as a transient package dependency:"}]},{"items":[{"content":[{"inlineContent":[{"text":"You don’t have to link to KeyboardKit Pro from any target.","type":"text"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"text":"You ","type":"text"},{"inlineContent":[{"text":"must","type":"text"}],"type":"emphasis"},{"text":" update ","type":"text"},{"inlineContent":[{"type":"text","text":"runpath search paths"}],"type":"strong"},{"text":" under ","type":"text"},{"type":"strong","inlineContent":[{"type":"text","text":"Build Settings"}]},{"type":"text","text":"."}],"type":"paragraph"},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"text":"For the main app, set it to ","type":"text"},{"type":"strong","inlineContent":[{"type":"text","text":"@executable_path\/Frameworks"}]},{"type":"text","text":"."}]}]},{"content":[{"inlineContent":[{"text":"For the keyboard, set it to ","type":"text"},{"type":"strong","inlineContent":[{"text":"@executable_path\/..\/..\/Frameworks","type":"text"}]},{"type":"text","text":"."}],"type":"paragraph"}]}]}]}],"type":"unorderedList"},{"type":"paragraph","inlineContent":[{"text":"Failing to set the search paths will cause a runtime crash when you try to use KeyboardKit Pro.","type":"text"}]},{"level":2,"anchor":"How-to-use-KeyboardKit-state-and-services","type":"heading","text":"How to use KeyboardKit state and services"},{"inlineContent":[{"type":"reference","isActive":true,"identifier":"doc:\/\/KeyboardKit\/documentation\/KeyboardKit\/KeyboardInputViewController"},{"text":" has shared observable ","type":"text"},{"identifier":"doc:\/\/KeyboardKit\/documentation\/KeyboardKit\/KeyboardInputViewController\/state","type":"reference","isActive":true},{"type":"text","text":" and "},{"identifier":"doc:\/\/KeyboardKit\/documentation\/KeyboardKit\/KeyboardInputViewController\/services","isActive":true,"type":"reference"},{"type":"text","text":". It will inject all state as environment objects into the view hierarchy, to let you access them like this:"}],"type":"paragraph"},{"code":["struct CustomKeyboard: View {","","    init(","        actionHandler: KeyboardActionHandler","    ) {","        self.actionHandler = actionHandler","    }","","    let actionHandler: KeyboardActionHandler","","    @EnvironmentObject","    private var context: KeyboardContext","","    var body: some View {","        ...","    }","}"],"syntax":"swift","type":"codeListing"},{"inlineContent":[{"text":"Services are not injected into the view hierarchy, and must be passed around. KeyboardKit uses init injection for both state and services, to clearly communicate the dependencies of all views.","type":"text"}],"type":"paragraph"},{"type":"heading","text":"How to register custom state and services","anchor":"How-to-register-custom-state-and-services","level":2},{"type":"paragraph","inlineContent":[{"type":"text","text":"You can easily modify any observable "},{"type":"reference","identifier":"doc:\/\/KeyboardKit\/documentation\/KeyboardKit\/KeyboardInputViewController\/state","isActive":true},{"text":" and replace any standard service in ","type":"text"},{"type":"reference","identifier":"doc:\/\/KeyboardKit\/documentation\/KeyboardKit\/KeyboardInputViewController\/services","isActive":true},{"type":"text","text":"."}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"For instance, here we disable autocomplete, using the shared "},{"isActive":true,"identifier":"doc:\/\/KeyboardKit\/documentation\/KeyboardKit\/AutocompleteContext","type":"reference"},{"text":", and replace the default ","type":"text"},{"isActive":true,"type":"reference","identifier":"doc:\/\/KeyboardKit\/documentation\/KeyboardKit\/StandardKeyboardActionHandler"},{"type":"text","text":" with a custom action handler:"}]},{"code":["class KeyboardViewController: KeyboardInputViewController {","","    override func viewDidLoad() {","        services.actionHandler = CustomActionHandler(","            inputViewController: self","        )","        super.viewDidLoad()","        state.autocompleteContext.isAutocompleteEnabled = false","    }","}","","class CustomActionHandler: StandardActionHandler {","","    open override func handle(","        _ gesture: KeyboardGesture, ","        on action: KeyboardAction","    ) {","        if gesture == .press && action == .space {","            print(\"Pressed space!\")","        }","        super.handle(gesture, on: action) ","    }","}"],"type":"codeListing","syntax":"swift"},{"type":"paragraph","inlineContent":[{"text":"Since services are lazy and resolved when they’re used for the first time, you should set up any custom services as early as possible.","type":"text"}]},{"type":"heading","text":"Going further","level":2,"anchor":"Going-further"},{"type":"paragraph","inlineContent":[{"text":"You should now have a basic understanding of how to set up KeyboardKit and KeyboardKit Pro, and how to use and customize the shared state and services.","type":"text"}]},{"type":"paragraph","inlineContent":[{"text":"For more information and examples, see the various articles and take a look at the demo apps.","type":"text"}]}],"kind":"content"}],"references":{"doc://KeyboardKit/documentation/KeyboardKit/AutocompleteContext":{"title":"AutocompleteContext","identifier":"doc:\/\/KeyboardKit\/documentation\/KeyboardKit\/AutocompleteContext","fragments":[{"kind":"keyword","text":"class"},{"text":" ","kind":"text"},{"text":"AutocompleteContext","kind":"identifier"}],"url":"\/documentation\/keyboardkit\/autocompletecontext","role":"symbol","navigatorTitle":[{"text":"AutocompleteContext","kind":"identifier"}],"kind":"symbol","abstract":[{"type":"text","text":"This observable class can be used to handle an autocomplete"},{"text":" ","type":"text"},{"text":"specific state, including configurations and suggestions.","type":"text"}],"type":"topic"},"doc://KeyboardKit/documentation/KeyboardKit/Essentials":{"identifier":"doc:\/\/KeyboardKit\/documentation\/KeyboardKit\/Essentials","abstract":[{"type":"text","text":"This article describes the essential parts of KeyboardKit."}],"role":"article","type":"topic","title":"Essentials","kind":"article","url":"\/documentation\/keyboardkit\/essentials"},"doc://KeyboardKit/documentation/KeyboardKit/KeyboardInputViewController/viewWillSetupKeyboard()":{"identifier":"doc:\/\/KeyboardKit\/documentation\/KeyboardKit\/KeyboardInputViewController\/viewWillSetupKeyboard()","abstract":[{"type":"text","text":"This function is called whenever the keyboard view must"},{"type":"text","text":" "},{"type":"text","text":"be setup. It will by default setup a "},{"isActive":true,"type":"reference","identifier":"doc:\/\/KeyboardKit\/documentation\/KeyboardKit\/SystemKeyboard"},{"type":"text","text":"."}],"role":"symbol","type":"topic","title":"viewWillSetupKeyboard()","kind":"symbol","url":"\/documentation\/keyboardkit\/keyboardinputviewcontroller\/viewwillsetupkeyboard()","fragments":[{"kind":"keyword","text":"func"},{"text":" ","kind":"text"},{"text":"viewWillSetupKeyboard","kind":"identifier"},{"kind":"text","text":"()"}]},"doc://KeyboardKit/documentation/KeyboardKit":{"title":"KeyboardKit","identifier":"doc:\/\/KeyboardKit\/documentation\/KeyboardKit","url":"\/documentation\/keyboardkit","role":"collection","abstract":[{"text":"KeyboardKit helps you create custom keyboard extensions with Swift and SwiftUI.","type":"text"}],"kind":"symbol","type":"topic"},"doc://KeyboardKit/documentation/KeyboardKit/SystemKeyboard":{"url":"\/documentation\/keyboardkit\/systemkeyboard","navigatorTitle":[{"kind":"identifier","text":"SystemKeyboard"}],"title":"SystemKeyboard","type":"topic","kind":"symbol","role":"symbol","abstract":[{"text":"This keyboard can be used to create alphabetic, numeric and","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"symbolic keyboards that mimic the native iOS keyboard."}],"identifier":"doc:\/\/KeyboardKit\/documentation\/KeyboardKit\/SystemKeyboard","fragments":[{"text":"struct","kind":"keyword"},{"kind":"text","text":" "},{"text":"SystemKeyboard","kind":"identifier"}]},"doc://KeyboardKit/documentation/KeyboardKit/KeyboardInputViewController/services":{"identifier":"doc:\/\/KeyboardKit\/documentation\/KeyboardKit\/KeyboardInputViewController\/services","abstract":[{"type":"text","text":"The default set of keyboard-specific services."}],"role":"symbol","type":"topic","title":"services","kind":"symbol","url":"\/documentation\/keyboardkit\/keyboardinputviewcontroller\/services","fragments":[{"text":"var","kind":"keyword"},{"text":" ","kind":"text"},{"kind":"identifier","text":"services"},{"kind":"text","text":": "},{"text":"Keyboard","kind":"typeIdentifier","preciseIdentifier":"s:11KeyboardKit0A0V"},{"kind":"text","text":"."},{"kind":"typeIdentifier","preciseIdentifier":"s:11KeyboardKit0A0V0A8ServicesC","text":"KeyboardServices"}]},"doc://KeyboardKit/documentation/KeyboardKit/KeyboardInputViewController":{"navigatorTitle":[{"text":"KeyboardInputViewController","kind":"identifier"}],"abstract":[{"text":"This class extends ","type":"text"},{"type":"codeVoice","code":"UIInputViewController"},{"text":" with KeyboardKit","type":"text"},{"type":"text","text":" "},{"type":"text","text":"specific functionality."}],"fragments":[{"text":"class","kind":"keyword"},{"kind":"text","text":" "},{"text":"KeyboardInputViewController","kind":"identifier"}],"url":"\/documentation\/keyboardkit\/keyboardinputviewcontroller","identifier":"doc:\/\/KeyboardKit\/documentation\/KeyboardKit\/KeyboardInputViewController","type":"topic","title":"KeyboardInputViewController","kind":"symbol","role":"symbol"},"doc://KeyboardKit/documentation/KeyboardKit/StandardKeyboardActionHandler":{"type":"topic","role":"symbol","fragments":[{"text":"class","kind":"keyword"},{"text":" ","kind":"text"},{"text":"StandardKeyboardActionHandler","kind":"identifier"}],"url":"\/documentation\/keyboardkit\/standardkeyboardactionhandler","title":"StandardKeyboardActionHandler","kind":"symbol","abstract":[{"text":"This standard keyboard action handler is used by default by","type":"text"},{"type":"text","text":" "},{"type":"text","text":"KeyboardKit and provides a standard way of handling actions."}],"identifier":"doc:\/\/KeyboardKit\/documentation\/KeyboardKit\/StandardKeyboardActionHandler","navigatorTitle":[{"kind":"identifier","text":"StandardKeyboardActionHandler"}]},"doc://KeyboardKit/documentation/KeyboardKit/KeyboardInputViewController/state":{"type":"topic","role":"symbol","kind":"symbol","identifier":"doc:\/\/KeyboardKit\/documentation\/KeyboardKit\/KeyboardInputViewController\/state","url":"\/documentation\/keyboardkit\/keyboardinputviewcontroller\/state","title":"state","abstract":[{"type":"text","text":"The default set of keyboard-specific state."}],"fragments":[{"text":"var","kind":"keyword"},{"text":" ","kind":"text"},{"text":"state","kind":"identifier"},{"text":": ","kind":"text"},{"text":"Keyboard","preciseIdentifier":"s:11KeyboardKit0A0V","kind":"typeIdentifier"},{"text":".","kind":"text"},{"preciseIdentifier":"s:11KeyboardKit0A0V0A5StateC","text":"KeyboardState","kind":"typeIdentifier"}]}}}